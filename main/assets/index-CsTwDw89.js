import{j as e,C as l,N as d,L as p,a as h,u as x,R as m,b as u,c as g,F as c,B as j,r as k,d as b,e as y,f as S,g as C,h as N,i as $}from"./vendor-Dliss62D.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();function v(){return e.jsx("footer",{className:"bg-light pt-3 pt-md-4 pb-4 pb-md-5","data-testid":"Footer",children:e.jsxs(l,{children:[e.jsx("p",{children:"The purpose of this webapp is to assist students and course staff in CMPSC156 with configuring dokku deployments for full stack web apps for CMPSC 156, a course in Software Engineering at UC Santa Barbara."}),e.jsxs("p",{children:["This webapp is open source; the source code is available on"," ",e.jsx("a",{href:"https://github.com/ucsb-cs156/dokku-config",children:"GitHub"}),"."]}),e.jsx("p",{children:'This also serves as an example of a webapp that is "frontend only" (no backend) built using React with the CMPSC 156 toolchain and deployed on Github Pages.'}),e.jsx("p",{children:"Copyright Â© 2026 by the Regents of the University of California, All rights reserved."})]})})}function w(){return e.jsx(e.Fragment,{children:e.jsx(d,{expand:"xl",variant:"dark",bg:"dark",sticky:"top","data-testid":"AppNavbar",children:e.jsxs(l,{children:[e.jsx(d.Brand,{as:p,to:"/",children:"Example"}),e.jsx(d.Toggle,{}),e.jsx(d.Collapse,{className:"justify-content-between",children:e.jsx(h,{children:e.jsx(h.Link,{as:p,to:"/",children:"Home"})})})]})})})}function O({children:t}){return e.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[e.jsx(w,{}),e.jsx(l,{expand:"xl",className:"pt-4 flex-grow-1",children:t}),e.jsx(v,{})]})}function L({appname:t="happycows",email:o="phtcon@ucsb.edu",org:a="ucsb-cs156",repo:n="proj-happycows",google_client_id:s="get-value-from-google",google_client_secret:r="get-value-from-google"}){const i=`
      dokku apps:create ${t}
      dokku git:set ${t} keep-git-dir true
      dokku config:set --no-restart ${t} PRODUCTION=true
      dokku config:set --no-restart ${t} SOURCE_REPO=https://github.com/${a}/${n}
      dokku postgres:create ${t}-db
      dokku postgres:link ${t}-db ${t}
      dokku git:sync ${t} https://github.com/${a}/${n} main
      dokku ps:rebuild ${t}
      dokku letsencrypt:set ${t} email ${o}
      dokku letsencrypt:enable ${t}
      dokku config:set ${t} --no-restart GOOGLE_CLIENT_ID=${s}
      dokku config:set ${t} --no-restart GOOGLE_CLIENT_SECRET=${r}
`;return e.jsx("pre",{style:{whiteSpace:"pre"},"data-testid":"dokkuscript",children:i})}const R=t=>{window.alert(`Form submitted: ${JSON.stringify(t)}`)};function E({callback:t=R,params:o={}}){var i;const{handleSubmit:a,register:n,formState:{errors:s}}=x(),r="DokkuScriptForm";return e.jsx(l,{className:"py-5 DokkuScriptForm","data-testid":r,children:e.jsx(m,{className:"justify-content-center",children:e.jsx(u,{md:12,lg:8,children:e.jsxs(g,{className:"shadow-sm p-4",children:[e.jsx("h3",{className:"mb-4 text-center",children:"Specify your Dokku App"}),e.jsxs(c,{onSubmit:a(f=>{t(f)}),children:[e.jsxs(c.Group,{as:m,className:"mb-3",controlId:"appname",children:[e.jsx(c.Label,{column:!0,sm:2,children:"appname"}),e.jsxs(u,{sm:6,children:[e.jsx(c.Control,{"data-testid":`${r}-appname`,type:"text",isInvalid:!!s.appname,defaultValue:o.appname||"",...n("appname",{required:"appname is required."})}),e.jsx(c.Control.Feedback,{type:"invalid",children:(i=s.appname)==null?void 0:i.message})]}),e.jsx(u,{sm:4,children:e.jsxs(c.Text,{className:"text-muted","data-testid":`${r}-appname-help`,children:["The name of your Dokku app, e.g. ",e.jsx("code",{children:"team01"}),","," ",e.jsx("code",{children:"team01-qa"}),", ",e.jsx("code",{children:"courses-dev-cgaucho"}),", etc."]})})]}),e.jsx(j,{variant:"primary",type:"submit",children:"Submit"})]})]})})})})}function P(){const[t,o]=k.useState(),a="HomePage",n=s=>{o(s),localStorage.setItem(`${a}.params`,JSON.stringify(s))};return localStorage.getItem(`${a}.params`)&&!t&&o(JSON.parse(localStorage.getItem(`${a}.params`))),e.jsxs(O,{children:[e.jsxs("div",{className:"pt-2",children:[e.jsx("h1",{children:"Dokku Config"}),e.jsx("p",{children:"This webapp will help you configure a Dokku deployment for CMPSC 156 at UC Santa Barbara."})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"Specify Dokku App"}),e.jsx(E,{callback:n,params:t})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("h2",{children:"Generated Dokku Script"}),e.jsx(L,{...t})]})]})}function D(){return e.jsx(b,{children:e.jsx(y,{exact:!0,path:"/",element:e.jsx(P,{})})})}const I=S.createRoot(document.getElementById("root"));I.render(e.jsx(C.StrictMode,{children:e.jsxs(N,{basename:"/dokku-config/main",children:[e.jsx($,{}),e.jsx(D,{})]})}));
