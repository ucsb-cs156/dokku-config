import{j as e,C as l,N as d,L as p,a as m,u as x,R as h,b as u,c as f,F as a,B as j,r as k,d as g,e as b,f as y,g as N,h as $,i as S}from"./vendor-Dliss62D.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function v(){return e.jsx("footer",{className:"bg-light pt-3 pt-md-4 pb-4 pb-md-5","data-testid":"Footer",children:e.jsx(l,{children:e.jsx("p",{children:"This is a sample frontend only webapp."})})})}function C(){return e.jsx(e.Fragment,{children:e.jsx(d,{expand:"xl",variant:"dark",bg:"dark",sticky:"top","data-testid":"AppNavbar",children:e.jsxs(l,{children:[e.jsx(d.Brand,{as:p,to:"/",children:"Example"}),e.jsx(d.Toggle,{}),e.jsx(d.Collapse,{className:"justify-content-between",children:e.jsx(m,{children:e.jsx(m.Link,{as:p,to:"/",children:"Home"})})})]})})})}function O({children:t}){return e.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[e.jsx(C,{}),e.jsx(l,{expand:"xl",className:"pt-4 flex-grow-1",children:t}),e.jsx(v,{})]})}function L({appname:t="happycows",email:n="phtcon@ucsb.edu",org:i="ucsb-cs156",repo:o="proj-happycows",google_client_id:s="get-value-from-google",google_client_secret:r="get-value-from-google"}){const c=`
      dokku apps:create ${t}
      dokku git:set ${t} keep-git-dir true
      dokku config:set --no-restart ${t} PRODUCTION=true
      dokku config:set --no-restart ${t} SOURCE_REPO=https://github.com/${i}/${o}
      dokku postgres:create ${t}-db
      dokku postgres:link ${t}-db ${t}
      dokku git:sync ${t} https://github.com/${i}/${o} main
      dokku ps:rebuild ${t}
      dokku letsencrypt:set ${t} email ${n}
      dokku letsencrypt:enable ${t}
      dokku config:set ${t} --no-restart GOOGLE_CLIENT_ID=${s}
      dokku config:set ${t} --no-restart GOOGLE_CLIENT_SECRET=${r}
`;return e.jsx("pre",{style:{whiteSpace:"pre"},"data-testid":"dokkuscript",children:c})}const w=t=>{window.alert(`Form submitted: ${JSON.stringify(t)}`)};function D({callback:t=w}){var r;const{handleSubmit:n,register:i,formState:{errors:o}}=x(),s="DokkuScriptForm";return e.jsx(l,{className:"py-5 DokkuScriptForm","data-testid":s,children:e.jsx(h,{className:"justify-content-center",children:e.jsx(u,{md:12,lg:8,children:e.jsxs(f,{className:"shadow-sm p-4",children:[e.jsx("h3",{className:"mb-4 text-center",children:"Specify your Dokku App"}),e.jsxs(a,{onSubmit:n(c=>{t(c)}),children:[e.jsxs(a.Group,{as:h,className:"mb-3",controlId:"appname",children:[e.jsx(a.Label,{column:!0,sm:2,children:"appname"}),e.jsxs(u,{sm:6,children:[e.jsx(a.Control,{"data-testid":`${s}-appname`,type:"text",isInvalid:!!o.appname,...i("appname",{required:"appname is required."})}),e.jsx(a.Control.Feedback,{type:"invalid",children:(r=o.appname)==null?void 0:r.message})]}),e.jsx(u,{sm:4,children:e.jsxs(a.Text,{className:"text-muted","data-testid":`${s}-appname-help`,children:["The name of your Dokku app, e.g. ",e.jsx("code",{children:"team01"}),","," ",e.jsx("code",{children:"team01-qa"}),", ",e.jsx("code",{children:"courses-dev-cgaucho"}),", etc."]})})]}),e.jsx(j,{variant:"primary",type:"submit",children:"Submit"})]})]})})})})}function E(){const[t,n]=k.useState(),i=o=>{n(o)};return e.jsxs(O,{children:[e.jsxs("div",{className:"pt-2",children:[e.jsx("h1",{children:"Dokku Config"}),e.jsx("p",{children:"This webapp will help you configure a Dokku deployment for CMPSC 156 at UC Santa Barbara."})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"Specify Dokku App"}),e.jsx(D,{callback:i})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("h2",{children:"Generated Dokku Script"}),e.jsx(L,{...t})]})]})}function R(){return e.jsx(g,{children:e.jsx(b,{exact:!0,path:"/",element:e.jsx(E,{})})})}const F=y.createRoot(document.getElementById("root"));F.render(e.jsx(N.StrictMode,{children:e.jsxs($,{basename:"/dokku-config/main",children:[e.jsx(S,{}),e.jsx(R,{})]})}));
