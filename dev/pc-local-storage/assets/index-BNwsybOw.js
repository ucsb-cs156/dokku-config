import{j as e,C as l,N as d,L as p,a as m,u as f,R as h,b as u,c as j,F as i,B as k,r as g,d as b,e as y,f as N,g as $,h as S,i as v}from"./vendor-Dliss62D.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();function O(){return e.jsx("footer",{className:"bg-light pt-3 pt-md-4 pb-4 pb-md-5","data-testid":"Footer",children:e.jsx(l,{children:e.jsx("p",{children:"This is a sample frontend only webapp."})})})}function C(){return e.jsx(e.Fragment,{children:e.jsx(d,{expand:"xl",variant:"dark",bg:"dark",sticky:"top","data-testid":"AppNavbar",children:e.jsxs(l,{children:[e.jsx(d.Brand,{as:p,to:"/",children:"Example"}),e.jsx(d.Toggle,{}),e.jsx(d.Collapse,{className:"justify-content-between",children:e.jsx(m,{children:e.jsx(m.Link,{as:p,to:"/",children:"Home"})})})]})})})}function L({children:t}){return e.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[e.jsx(C,{}),e.jsx(l,{expand:"xl",className:"pt-4 flex-grow-1",children:t}),e.jsx(O,{})]})}function w({appname:t="happycows",email:o="phtcon@ucsb.edu",org:a="ucsb-cs156",repo:n="proj-happycows",google_client_id:s="get-value-from-google",google_client_secret:r="get-value-from-google"}){const c=`
      dokku apps:create ${t}
      dokku git:set ${t} keep-git-dir true
      dokku config:set --no-restart ${t} PRODUCTION=true
      dokku config:set --no-restart ${t} SOURCE_REPO=https://github.com/${a}/${n}
      dokku postgres:create ${t}-db
      dokku postgres:link ${t}-db ${t}
      dokku git:sync ${t} https://github.com/${a}/${n} main
      dokku ps:rebuild ${t}
      dokku letsencrypt:set ${t} email ${o}
      dokku letsencrypt:enable ${t}
      dokku config:set ${t} --no-restart GOOGLE_CLIENT_ID=${s}
      dokku config:set ${t} --no-restart GOOGLE_CLIENT_SECRET=${r}
`;return e.jsx("pre",{style:{whiteSpace:"pre"},"data-testid":"dokkuscript",children:c})}const D=t=>{window.alert(`Form submitted: ${JSON.stringify(t)}`)};function E({callback:t=D,params:o={}}){var c;const{handleSubmit:a,register:n,formState:{errors:s}}=f(),r="DokkuScriptForm";return e.jsx(l,{className:"py-5 DokkuScriptForm","data-testid":r,children:e.jsx(h,{className:"justify-content-center",children:e.jsx(u,{md:12,lg:8,children:e.jsxs(j,{className:"shadow-sm p-4",children:[e.jsx("h3",{className:"mb-4 text-center",children:"Specify your Dokku App"}),e.jsxs(i,{onSubmit:a(x=>{t(x)}),children:[e.jsxs(i.Group,{as:h,className:"mb-3",controlId:"appname",children:[e.jsx(i.Label,{column:!0,sm:2,children:"appname"}),e.jsxs(u,{sm:6,children:[e.jsx(i.Control,{"data-testid":`${r}-appname`,type:"text",isInvalid:!!s.appname,defaultValue:o.appname||"",...n("appname",{required:"appname is required."})}),e.jsx(i.Control.Feedback,{type:"invalid",children:(c=s.appname)==null?void 0:c.message})]}),e.jsx(u,{sm:4,children:e.jsxs(i.Text,{className:"text-muted","data-testid":`${r}-appname-help`,children:["The name of your Dokku app, e.g. ",e.jsx("code",{children:"team01"}),","," ",e.jsx("code",{children:"team01-qa"}),", ",e.jsx("code",{children:"courses-dev-cgaucho"}),", etc."]})})]}),e.jsx(k,{variant:"primary",type:"submit",children:"Submit"})]})]})})})})}function I(){const[t,o]=g.useState(),a="HomePage",n=s=>{o(s),localStorage.setItem(`${a}.params`,JSON.stringify(s))};return localStorage.getItem(`${a}.params`)&&!t&&o(JSON.parse(localStorage.getItem(`${a}.params`))),e.jsxs(L,{children:[e.jsxs("div",{className:"pt-2",children:[e.jsx("h1",{children:"Dokku Config"}),e.jsx("p",{children:"This webapp will help you configure a Dokku deployment for CMPSC 156 at UC Santa Barbara."})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"Specify Dokku App"}),e.jsx(E,{callback:n,params:t})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("h2",{children:"Generated Dokku Script"}),e.jsx(w,{...t})]})]})}function R(){return e.jsx(b,{children:e.jsx(y,{exact:!0,path:"/",element:e.jsx(I,{})})})}const F=N.createRoot(document.getElementById("root"));F.render(e.jsx($.StrictMode,{children:e.jsxs(S,{basename:"/dokku-config/dev/pc-local-storage",children:[e.jsx(v,{}),e.jsx(R,{})]})}));
