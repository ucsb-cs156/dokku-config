import{j as e,C as h,N as u,L as f,a as b,u as y,R as d,b as a,c as C,F as s,B as N,r as $,d as v,e as S,f as _,g as I,h as w,i as G}from"./vendor-Dliss62D.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();function L(){return e.jsx("footer",{className:"bg-light pt-3 pt-md-4 pb-4 pb-md-5","data-testid":"Footer",children:e.jsxs(h,{children:[e.jsx("p",{children:"The purpose of this webapp is to assist students and course staff in CMPSC156 with configuring dokku deployments for full stack web apps for CMPSC 156, a course in Software Engineering at UC Santa Barbara."}),e.jsxs("p",{children:["This webapp is open source; the source code is available on"," ",e.jsx("a",{href:"https://github.com/ucsb-cs156/dokku-config",children:"GitHub"}),"."]}),e.jsx("p",{children:'This also serves as an example of a webapp that is "frontend only" (no backend) built using React with the CMPSC 156 toolchain and deployed on Github Pages.'}),e.jsx("p",{children:"Copyright Â© 2026 by the Regents of the University of California, All rights reserved."})]})})}function O(){return e.jsx(e.Fragment,{children:e.jsx(u,{expand:"xl",variant:"dark",bg:"dark",sticky:"top","data-testid":"AppNavbar",children:e.jsxs(h,{children:[e.jsx(u.Brand,{as:f,to:"/",children:"Example"}),e.jsx(u.Toggle,{}),e.jsx(u.Collapse,{className:"justify-content-between",children:e.jsx(b,{children:e.jsx(b.Link,{as:f,to:"/",children:"Home"})})})]})})})}function T({children:o}){return e.jsxs("div",{className:"d-flex flex-column min-vh-100",children:[e.jsx(O,{}),e.jsx(h,{expand:"xl",className:"pt-4 flex-grow-1",children:o}),e.jsx(L,{})]})}function E({appname:o="happycows",email:i="phtcon@ucsb.edu",org:n="ucsb-cs156",repo:l="proj-happycows",google_client_id:t="get-value-from-google",google_client_secret:r="get-value-from-google"}){const c=`
      dokku apps:create ${o}
      dokku git:set ${o} keep-git-dir true
      dokku config:set --no-restart ${o} PRODUCTION=true
      dokku config:set --no-restart ${o} SOURCE_REPO=https://github.com/${n}/${l}
      dokku postgres:create ${o}-db
      dokku postgres:link ${o}-db ${o}
      dokku git:sync ${o} https://github.com/${n}/${l} main
      dokku ps:rebuild ${o}
      dokku letsencrypt:set ${o} email ${i}
      dokku letsencrypt:enable ${o}
      dokku config:set ${o} --no-restart GOOGLE_CLIENT_ID=${t}
      dokku config:set ${o} --no-restart GOOGLE_CLIENT_SECRET=${r}
`;return e.jsx("pre",{style:{whiteSpace:"pre"},"data-testid":"dokkuscript",children:c})}const D=o=>{window.alert(`Form submitted: ${JSON.stringify(o)}`)};function F({callback:o=D,params:i={}}){var c,m,p,x,g,j;const{handleSubmit:n,register:l,formState:{errors:t}}=y(),r="DokkuScriptForm";return e.jsx(h,{className:"py-5 DokkuScriptForm","data-testid":r,children:e.jsx(d,{className:"justify-content-center",children:e.jsx(a,{md:12,lg:8,children:e.jsxs(C,{className:"shadow-sm p-4",children:[e.jsx("h3",{className:"mb-4 text-center",children:"Specify your Dokku App"}),e.jsxs(s,{onSubmit:n(k=>{o(k)}),children:[e.jsxs(s.Group,{as:d,className:"mb-3",controlId:"appname",children:[e.jsx(s.Label,{column:!0,sm:2,children:"appname"}),e.jsxs(a,{sm:6,children:[e.jsx(s.Control,{"data-testid":`${r}-appname`,type:"text",isInvalid:!!t.appname,defaultValue:i.appname||"",...l("appname",{required:"appname is required."})}),e.jsx(s.Control.Feedback,{type:"invalid",children:(c=t.appname)==null?void 0:c.message})]}),e.jsx(a,{sm:4,children:e.jsxs(s.Text,{className:"text-muted","data-testid":`${r}-appname-help`,children:["The name of your Dokku app, e.g. ",e.jsx("code",{children:"team01"}),","," ",e.jsx("code",{children:"team01-qa"}),", ",e.jsx("code",{children:"courses-dev-cgaucho"}),", etc."]})})]}),e.jsxs(s.Group,{as:d,className:"mb-3",controlId:"email",children:[e.jsx(s.Label,{column:!0,sm:2,children:"email"}),e.jsxs(a,{sm:6,children:[e.jsx(s.Control,{"data-testid":`${r}-email`,type:"email",isInvalid:!!t.email,defaultValue:i.email||"",...l("email",{required:"email is required."})}),e.jsx(s.Control.Feedback,{type:"invalid",children:(m=t.email)==null?void 0:m.message})]}),e.jsx(a,{sm:4,children:e.jsxs(s.Text,{className:"text-muted","data-testid":`${r}-email-help`,children:["Your email address, e.g. ",e.jsx("code",{children:"cgaucho@ucsb.edu"}),". This is used for the https certificate generation; messages about the expiration of the certificate will be sent to this email."]})})]}),e.jsxs(s.Group,{as:d,className:"mb-3",controlId:"org",children:[e.jsx(s.Label,{column:!0,sm:2,children:"org"}),e.jsxs(a,{sm:6,children:[e.jsx(s.Control,{"data-testid":`${r}-org`,type:"text",isInvalid:!!t.org,defaultValue:i.org||"",...l("org",{required:"org is required."})}),e.jsx(s.Control.Feedback,{type:"invalid",children:(p=t.org)==null?void 0:p.message})]}),e.jsx(a,{sm:4,children:e.jsxs(s.Text,{className:"text-muted","data-testid":`${r}-org-help`,children:["The name of your Github organization, e.g."," ",e.jsx("code",{children:"ucsb-cs156-s26"}),"."]})})]}),e.jsxs(s.Group,{as:d,className:"mb-3",controlId:"repo",children:[e.jsx(s.Label,{column:!0,sm:2,children:"repo"}),e.jsxs(a,{sm:6,children:[e.jsx(s.Control,{"data-testid":`${r}-repo`,type:"text",isInvalid:!!t.repo,defaultValue:i.repo||"",...l("repo",{required:"repo is required."})}),e.jsx(s.Control.Feedback,{type:"invalid",children:(x=t.repo)==null?void 0:x.message})]}),e.jsx(a,{sm:4,children:e.jsxs(s.Text,{className:"text-muted","data-testid":`${r}-repo-help`,children:["The name of your repository, e.g. ",e.jsx("code",{children:"team01"}),","," ",e.jsx("code",{children:"proj-courses-s26-03"}),"."]})})]}),e.jsxs(s.Group,{as:d,className:"mb-3",controlId:"google_client_id",children:[e.jsx(s.Label,{column:!0,sm:2,children:"Google Client ID"}),e.jsxs(a,{sm:6,children:[e.jsx(s.Control,{"data-testid":`${r}-google_client_id`,type:"text",isInvalid:!!t.google_client_id,defaultValue:i.google_client_id||"",...l("google_client_id",{required:"Google Client ID is required."})}),e.jsx(s.Control.Feedback,{type:"invalid",children:(g=t.google_client_id)==null?void 0:g.message})]}),e.jsx(a,{sm:4,children:e.jsx(s.Text,{className:"text-muted","data-testid":`${r}-google_client_id-help`,children:"Google Client Id for OAuth; see the project README for instructions on obtaining this value."})})]}),e.jsxs(s.Group,{as:d,className:"mb-3",controlId:"google_client_secret",children:[e.jsx(s.Label,{column:!0,sm:2,children:"Google Client Secret"}),e.jsxs(a,{sm:6,children:[e.jsx(s.Control,{"data-testid":`${r}-google_client_secret`,type:"text",isInvalid:!!t.google_client_secret,defaultValue:i.google_client_secret||"",...l("google_client_secret",{required:"Google Client Secret is required."})}),e.jsx(s.Control.Feedback,{type:"invalid",children:(j=t.google_client_secret)==null?void 0:j.message})]}),e.jsx(a,{sm:4,children:e.jsx(s.Text,{className:"text-muted","data-testid":`${r}-google_client_secret-help`,children:"Google Client Secret for OAuth; see the project README for instructions on obtaining this value."})})]}),e.jsx(N,{variant:"primary",type:"submit",children:"Submit"})]})]})})})})}function R(){const[o,i]=$.useState(),n="HomePage",l=t=>{i(t),localStorage.setItem(`${n}.params`,JSON.stringify(t))};return localStorage.getItem(`${n}.params`)&&!o&&i(JSON.parse(localStorage.getItem(`${n}.params`))),e.jsxs(T,{children:[e.jsxs("div",{className:"pt-2",children:[e.jsx("h1",{children:"Dokku Config"}),e.jsx("p",{children:"This webapp will help you configure a Dokku deployment for CMPSC 156 at UC Santa Barbara."})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"Specify Dokku App"}),e.jsx(F,{callback:l,params:o})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("h2",{children:"Generated Dokku Script"}),e.jsx(E,{...o})]})]})}function q(){return e.jsx(v,{children:e.jsx(S,{exact:!0,path:"/",element:e.jsx(R,{})})})}const B=_.createRoot(document.getElementById("root"));B.render(e.jsx(I.StrictMode,{children:e.jsxs(w,{basename:"/dokku-config/dev/pc-issue11",children:[e.jsx(G,{}),e.jsx(q,{})]})}));
